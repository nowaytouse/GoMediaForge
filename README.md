# Pixly - 智能媒体现代化转换器

 <img width="256" height="256" alt="favicon-256x256" src="https://github.com/user-attachments/assets/6ab462a0-ce38-40ad-b151-ec728ef38025" />

 <!-- 极简像素化P字母，部分像素点采用渐变色表示格式转换 -->

> **Convert 100,000+ media files with intelligent quality-aware processing**  
> *专为 macOS M 芯片设计的高性能媒体格式现代化转换解决方案,面向现代格式的视频/图像媒体转换器*

---

## ✨ 为什么选择 Pixly

Pixly 是一款专为处理**10万+级别媒体目录**而生的现代化转换工具，它不仅仅是格式转换器，更是您的媒体资产管家。不同于其他工具，Pixly 采用**智能质量感知引擎**，针对每张图片的实际情况做出最优决策，确保在保证质量的同时最大化节省存储空间。



**核心优势**:
- 🚀 **极致性能** - 专为 Apple Silicon 优化，75% 系统资源智能调度
- 🧠 **智能决策** - 五级质量评估系统，针对不同质量文件采用不同策略
- 🛡️ **安全可靠** - 断点续传、文件备份、防卡死机制三重保障
- ⏱️ **高效处理** - 优先处理低质量文件，提升用户体验

## 📦 安装与使用

```bash

#可以在发布页面下载编译后的程序,也可以自行编译,需要具备安装依赖项

```

**使用方法**:
1. 将目标文件夹拖入终端窗口
2. 按 Enter 键启动转换
3. 查看智能决策与详细报告

```
请拖入目标文件夹，然后按 Enter: /Users/username/Pictures
🚀 启动 Pixly v20.2.7-GO-TITANIUM-STREAMING-ENHANCED
📁 目标: /Users/username/Pictures
⚙️ 模式: auto

🔍 正在扫描媒体文件...
📊 扫描完成: 95,642 文件 (已评估: 95,638)
⚠️ 检测到 91,245 个极低质量文件

请选择如何处理这些极低质量文件:
  [1] 全部跳过 (默认, 5秒后自动选择)
  [2] 全部尝试修复并转换
  [3] 全部直接删除
```

## 🌐 核心功能

 - 质量模式 👉 JXL(静态图片) AVIF(动态图片) MOV(任何视频) ⬇️
 - 无条件对任何符合条件的媒体使用最高数字无损质量
  
 - 效率模式 👉 AVIF(任何动静图) MOV(任何视频) ⬇️
 - 尽可能探索质量最高的,且相对原图大小更小的质量.
   
 - 自动模式 👉 在两个模式基础上使用质量判断引擎判断应当使用什么模式.⬇️
 - 根据图像质量评判,原图画质高则使用质量模式,原图质量低则使用效率模式
  
### 🧪 五级质量评估引擎
Pixly 使用先进的视觉感知分析技术，对每张图片进行深度评估：

| 质量级别 | 评估标准 | 处理策略 |
|----------|----------|----------|
| **极高质量** | 原画级质量，噪声极低，锐度高 | 优先使用 JXL 数学无损转换 |
| **高质量** | 质量优秀，轻微压缩痕迹 | 优先使用 JXL/AVIF 无损转换 |
| **中质量** | 中等质量，可见压缩伪影 | 智能决策使用质量或效率模式 |
| **低质量** | 质量较差，明显压缩伪影 | 使用效率模式压缩探底 |
| **极低质量** | 严重压缩/损坏，几乎无法识别 | 提供批量处理选项 |

*评估指标包括：噪声水平、锐度、压缩伪影、像素密度、熵值等*

### 🔄 三种智能转换模式

#### **自动模式** (默认)
- **高质量以上** → 使用质量模式
- **中质量及以下** → 使用效率模式
- **智能决策统计** → 提供详细报告

#### **质量模式**
- **静图**: 优先使用 JXL (数学无损)，对 JPEG 使用 `--lossless_jpeg=1`
- **动图**: 转换为 AVIF (无损)
- **视频**: 转换为 MOV (HEVC/AV1 无损)

#### **效率模式**
1. 首先进行无损尝试，记录与原文件大小对比
2. 基于质量级别动态调整压缩参数
3. 压缩探底确保转换后文件小于原文件
4. 智能平衡质量与文件大小（偏重质量）

## 📊 转换报告示例

```
📊 ================= 媒体转换最终报告 ==================
📁 目录: /Users/username/Pictures
⚙️ 模式: auto    🚀 版本: 20.2.7-GO-TITANIUM-STREAMING-ENHANCED
⏰ 耗时: 12m 45s

--- 📋 概览 ---
  🗂️ 总计发现: 95,642 文件
  ✅ 成功转换: 87,231
  ❌ 转换失败: 147
  ⏭️ 主动跳过: 8,264
  🔄 断点续传: 0

--- 💾 大小变化 ---
  💰 空间变化: ⬆️12.3 MB ⬇️4.56 GB

--- 🔍 质量分布 ---
  🌟 极高质量: 2,145
  ⭐ 高质量: 18,342
  ✨ 中质量: 27,891
  💤 低质量: 24,567
  ⚠️ 极低质量: 22,697

--- 🧠 智能决策 ---
  🧠 智能决策文件: 64,534 (74%)
  💎 无损优势识别: 18,245
```

## ⚙️ 高级特性

- **5秒自动选择** - 极低质量文件批量处理默认5秒后自动跳过
- **内存看门狗** - 自动监测内存使用，动态调整并发数避免进程被杀
- **多层元数据迁移** - 通过exiftool、jhead等工具确保EXIF/ICC完整迁移
- **进度可视化** - 精准实时进度条，适配各种终端窗口大小
- **暗黑/明亮模式** - 使用中性色适配系统主题的现代UI设计
- **文件锁备份** - 避免异常介入导致文件损坏

## ⚠️ 免责声明

> **此项目仅为个人需求制作，非商业产品**  
> 项目维护为业余时间进行，**问题反馈可能不及时或无响应**。  
> 如遇紧急问题，建议具备一定Go语言开发经验的用户自行排查修复。  
> 项目提供"按原样"，不提供任何形式的保证或技术支持。

## 📋 技术细节

- **仅支持 macOS M 芯片** - 专为 Apple Silicon (ARM64) 架构优化
- **7核心并发处理** - 默认使用 75% 系统资源，可自动调整
- **媒体白名单识别** - 全面支持主流及冷门媒体格式
- **跳过特定文件** - 自动跳过 live 图、空间图片、已是目标格式、不支持的文件类型
- **断点续传** - 意外中断后可继续处理，避免重复工作

## 🤝 贡献指南

欢迎贡献！请遵循以下步骤:

1. Fork 本仓库
2. 创建新特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 📄 许可证

采用 MIT 订可证 

---

> **Pixly** - 像素级媒体现代化转换  
> *大规模处理 · 智能决策 · 极致性能*
